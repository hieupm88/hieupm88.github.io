window.__require=function t(o,i,e){function s(r,h){if(!i[r]){if(!o[r]){var a=r.split("/");if(a=a[a.length-1],!o[a]){var c="function"==typeof __require&&__require;if(!h&&c)return c(a,!0);if(n)return n(a,!0);throw new Error("Cannot find module '"+r+"'")}}var l=i[r]={exports:{}};o[r][0].call(l.exports,function(t){return s(o[r][1][t]||t)},l,l.exports,t,o,i,e)}return i[r].exports}for(var n="function"==typeof __require&&__require,r=0;r<e.length;r++)s(e[r]);return s}({CanvasScaleByOrientation:[function(t,o,i){"use strict";cc._RF.push(o,"05360OOIDtG0rxnGUvbwUiw","CanvasScaleByOrientation"),cc.Class({extends:cc.Component,properties:{autoOrientation:!1,isPortrait:!0,canvas:cc.Canvas,fitByOrientation:!0,useCustomDesignResolution:!1,customDSWidth:1280,customDSHeight:720,widgetNodes:{type:cc.Widget,default:[]},isDebug:!1},onLoad:function(){if(this._thisOnResized=this.onScreenResized.bind(this),cc.sys.isMobile?window.addEventListener("resize",this._thisOnResized):cc.view.on("canvas-resize",this._thisOnResized),this.scaleCanvasByOrientation(),!cc.sys.isNative){var t=document.getElementById("div_full_screen");this.isPortrait&&t&&(t.style.visibility="hidden"),this.autoOrientation?cc.view.setOrientation(cc.macro.ORIENTATION_AUTO):this.isPortrait?cc.view.setOrientation(cc.macro.ORIENTATION_PORTRAIT):cc.view.setOrientation(cc.macro.ORIENTATION_LANDSCAPE)}},start:function(){if(cc.sys.isMobile){var t=new Event("gameShow");window.dispatchEvent(t)}},scaleCanvasByOrientation:function(){if(this.autoOrientation?cc.view.getFrameSize().width<cc.view.getFrameSize().height?this.isPortrait=!0:this.isPortrait=!1:this.isPortrait?cc.view.setOrientation(cc.macro.ORIENTATION_PORTRAIT):cc.view.setOrientation(cc.macro.ORIENTATION_LANDSCAPE),this.canvas){if(this.isDebug&&cc.log("Canvas after update: "),this.isDebug&&cc.log(this.canvas),this.canvas.alignWithScreen(),this.fitByOrientation){var t=this.useCustomDesignResolution?this.customDSWidth/this.customDSHeight:this.canvas.designResolution.width/this.canvas.designResolution.height,o=cc.view.getFrameSize(),i=o.width/o.height;this.isDebug&&cc.log("View size:"+o+", Design Resolution: W: "+this.canvas.designResolution.width+", H: "+this.canvas.designResolution.height+",  Screen Ratio: "+i+", Design Ratio: "+t),this.isPortrait?i<t?(this.canvas.fitHeight=!1,this.canvas.fitWidth=!0,this.isDebug&&cc.log("CANVAS FIT WIDTH")):(this.canvas.fitHeight=!0,this.canvas.fitWidth=!1,this.isDebug&&cc.log("CANVAS FIT HEIGHT")):i<t?(this.canvas.fitHeight=!1,this.canvas.fitWidth=!0):(this.canvas.fitHeight=!0,this.canvas.fitWidth=!1)}}else this.isDebug&&cc.log("No canvas component");if(this.widgetNodes&&this.widgetNodes.length>0)for(var e=0;e<this.widgetNodes.length;e++)this.widgetNodes[e].updateAlignment()},onScreenResized:function(){var t=cc.visibleRect;this.scaleCanvasByOrientation(),this.isDebug&&cc.log("ON SCREEN RESIZE: NEW CANVAS SIZE: Width: "+t.width+", Height: "+t.height)},onDestroy:function(){cc.sys.isMobile?window.removeEventListener("resize",this._thisOnResized):cc.view.off("canvas-resize",this._thisOnResized)}}),cc._RF.pop()},{}],Config:[function(t,o,i){"use strict";cc._RF.push(o,"83465+4DS5Lo5jyi5EAHeS3","Config"),cc.Class({extends:cc.Component,onLoad:function(){this.node.config={FRAME_RATE:100,STEP_DISTANCE:20,STEP_SPEED:50,HEAD_WIDTH:20,HEAD_HEIGHT:20,BODY_WIDTH:20,BODY_HEIGHT:20,INIT_DIRECTION:cc.v2(0,1),LEVELS:[{ID:"Level 1",FOOD_COUNT:15,ADDED_SPEED:0,MORE_BLOCKS:[]},{ID:"Level 2",FOOD_COUNT:40,ADDED_SPEED:0,MORE_BLOCKS:[{x:-5,y:0},{x:-4,y:0},{x:-3,y:0},{x:-2,y:0},{x:5,y:0},{x:4,y:0},{x:3,y:0},{x:2,y:0}]},{ID:"Level 3",FOOD_COUNT:60,ADDED_SPEED:0,MORE_BLOCKS:[{x:-5,y:-5},{x:-4,y:-5},{x:-3,y:-5},{x:-2,y:-5},{x:5,y:-5},{x:4,y:-5},{x:3,y:-5},{x:2,y:-5},{x:-5,y:5},{x:-4,y:5},{x:-3,y:5},{x:-2,y:5},{x:5,y:5},{x:4,y:5},{x:3,y:5},{x:2,y:5}]},{ID:"Level 4",FOOD_COUNT:90,ADDED_SPEED:0,MORE_BLOCKS:[{x:-8,y:-5},{x:-4,y:-5},{x:-3,y:-5},{x:-2,y:-5},{x:8,y:-5},{x:4,y:-5},{x:3,y:-5},{x:2,y:-5},{x:7,y:-5},{x:-8,y:0},{x:-7,y:0},{x:-4,y:0},{x:-3,y:0},{x:-2,y:0},{x:8,y:0},{x:4,y:0},{x:3,y:0},{x:2,y:0},{x:7,y:0},{x:-8,y:5},{x:-7,y:5},{x:-4,y:5},{x:-3,y:5},{x:-2,y:5},{x:8,y:5},{x:4,y:5},{x:3,y:5},{x:2,y:5},{x:7,y:5}]},{ID:"Level 5",FOOD_COUNT:150,ADDED_SPEED:0,MORE_BLOCKS:[{x:-12,y:-8},{x:-10,y:-8},{x:-5,y:-8},{x:-1,y:-8},{x:1,y:-8},{x:5,y:-8},{x:10,y:-8},{x:12,y:-8},{x:-5,y:0},{x:-4,y:0},{x:-3,y:0},{x:-2,y:0},{x:5,y:0},{x:4,y:0},{x:3,y:0},{x:2,y:0},{x:-12,y:8},{x:-10,y:8},{x:-5,y:8},{x:-1,y:8},{x:1,y:8},{x:5,y:8},{x:10,y:8},{x:12,y:8}]},{ID:"Level 6",FOOD_COUNT:200,ADDED_SPEED:0,MORE_BLOCKS:[{x:-12,y:-15},{x:-10,y:-14},{x:-5,y:-13},{x:-1,y:-12},{x:1,y:-12},{x:5,y:-13},{x:10,y:-14},{x:12,y:-15},{x:-12,y:-8},{x:-10,y:-8},{x:-5,y:-8},{x:-1,y:-8},{x:1,y:-8},{x:5,y:-8},{x:10,y:-8},{x:12,y:-8},{x:-5,y:0},{x:-4,y:0},{x:-3,y:0},{x:-2,y:0},{x:5,y:0},{x:4,y:0},{x:3,y:0},{x:2,y:0},{x:-12,y:8},{x:-10,y:8},{x:-5,y:8},{x:-1,y:8},{x:1,y:8},{x:5,y:8},{x:10,y:8},{x:12,y:8},{x:-12,y:15},{x:-10,y:14},{x:-5,y:13},{x:-1,y:12},{x:1,y:12},{x:5,y:13},{x:10,y:14},{x:12,y:15}]}]}}}),cc._RF.pop()},{}],GameControl:[function(t,o,i){"use strict";cc._RF.push(o,"b647d9xClRMyYItMj/XEf6x","GameControl");var e=t("MovementControl"),s=t("MapControl"),n=t("PlayerControl"),r=t("UIControl");cc.Class({extends:cc.Component,properties:{movementControl:e,mapControl:s,playerControl:n,uiControl:r},onLoad:function(){this.poolFactory=this.node.getComponent("PoolFactory"),this.playerControl&&(this.playerControl.node.on("ON_EAT_FOOD",this.onEatFood,this),this.playerControl.node.on("ON_COLLIDE_BLOCK",this.onCollideBlock,this)),this.uiControl&&(this.uiControl.node.on("START_GAME",this.startPlaying,this),this.uiControl.node.on("RESTART_GAME",this.restartGame,this),this.uiControl.node.on("NEXT_LEVEL",this.nextLevel,this),this.uiControl.node.on("PAUSE_GAME",this.pauseGame,this),this.uiControl.node.on("RESUME_GAME",this.resumeGame,this))},start:function(){this._isPlaying=!1;var t=cc.director.getCollisionManager();t&&(t.enabled=!0);var o=this.node.config,i=o.FRAME_RATE,e=o.LEVELS;this.maxLevel=e.length-1,this.movementControl.initGame(this.node.config,this.poolFactory),this.mapControl.initMap(this.node.config,this.poolFactory),cc.game.setFrameRate(i),this._currentLevel=0,this._addedSpeed=0,this.setUpLevel()},setUpLevel:function(){this.mapControl.resetMap(),this.mapControl.setUpMoreBlocks(this._currentLevel);var t=this.node.config.LEVELS;this.mapControl.spawnFood(this.playerControl.paths);var o=t[this._currentLevel];if(o){var i=o.ID,e=o.FOOD_COUNT,s=o.ADDED_SPEED;this.uiControl&&(this.uiControl.level=i),this._maxFoodCount=e,s&&(this._addedSpeed=s)}this._currentFoodCount=0},restartGame:function(){this._currentLevel=0,this.setUpLevel(),this.playerControl&&(this.playerControl.reset(),this.startPlaying())},nextLevel:function(){this._currentLevel++,this._currentLevel>=this.maxLevel&&(this._currentLevel=0),this.setUpLevel(),this.playerControl&&(this.playerControl.reset(),this.startPlaying(),this.playerControl.increaseSpeed(this._addedSpeed))},pauseGame:function(){this._isPlaying=!1,this.playerControl&&(this.playerControl.isMoving=!1)},resumeGame:function(){this._isPlaying=!0,this.playerControl&&(this.playerControl.isMoving=!0)},startPlaying:function(){this._isPlaying||(this._isPlaying=!0,this.movementControl&&this.movementControl.startMoving())},stopPlaying:function(){this._isPlaying&&(this._isPlaying=!1,this.movementControl&&this.movementControl.stopMoving(),this.uiControl&&this.uiControl.onGameOver())},onEatFood:function(t){this.mapControl&&(this.mapControl.removeEatenFood(t),this.mapControl.spawnFood(this.playerControl.paths)),this.uiControl&&(this.uiControl.onScored(1),this._currentFoodCount++,this._currentFoodCount>=this._maxFoodCount&&(this._isPlaying=!1,this.movementControl&&this.movementControl.stopMoving(),this.uiControl.onGameWon()))},onCollideBlock:function(){this.stopPlaying(),this.uiControl&&this.uiControl.onGameOver()},onDestroy:function(){this.playerControl&&(this.playerControl.node.off("ON_EAT_FOOD",this.onEatFood,this),this.playerControl.node.off("ON_COLLIDE_BLOCK",this.onCollideBlock,this)),this.uiControl&&(this.uiControl.node.off("START_GAME",this.startPlaying,this),this.uiControl.node.off("RESTART_GAME",this.restartGame,this),this.uiControl.node.off("NEXT_LEVEL",this.nextLevel,this))}}),cc._RF.pop()},{MapControl:"MapControl",MovementControl:"MovementControl",PlayerControl:"PlayerControl",UIControl:"UIControl"}],HeadControl:[function(t,o,i){"use strict";cc._RF.push(o,"248be68+sBND6CwcBKWAvVW","HeadControl"),cc.Class({extends:cc.Component,properties:{},init:function(t){this.player=t},onCollisionEnter:function(t,o){t&&("Food"===t.node.name?this.player&&this.player.onEatFood(t.node):"Block"===t.node.name&&this.player&&this.player.onCollideBlock())}}),cc._RF.pop()},{}],KeyboardInputControl:[function(t,o,i){"use strict";cc._RF.push(o,"5c1aeT3cN9GTZoMvZ0fDN2s","KeyboardInputControl");var e=t("MovementControl"),s=t("GameControl");cc.Class({extends:cc.Component,properties:{movementControl:e,gameControl:s},onLoad:function(){cc.systemEvent.on(cc.SystemEvent.EventType.KEY_DOWN,this.onKeyDown,this),cc.systemEvent.on(cc.SystemEvent.EventType.KEY_UP,this.onKeyUp,this)},start:function(){},onKeyDown:function(t){if(this.movementControl)switch(t.keyCode){case cc.macro.KEY.left:console.log("Move Left"),this.movementControl.horizontalAxis=-1;break;case cc.macro.KEY.right:console.log("Move Right"),this.movementControl.horizontalAxis=1;break;case cc.macro.KEY.up:console.log("Move Up"),this.movementControl.verticalAxis=1;break;case cc.macro.KEY.down:console.log("Move Down"),this.movementControl.verticalAxis=-1;break;case cc.macro.KEY.a:console.log("Move Left"),this.movementControl.horizontalAxis=-1;break;case cc.macro.KEY.d:console.log("Move Right"),this.movementControl.horizontalAxis=1;break;case cc.macro.KEY.w:console.log("Move Up"),this.movementControl.verticalAxis=1;break;case cc.macro.KEY.s:console.log("Move Down"),this.movementControl.verticalAxis=-1}},onKeyUp:function(t){this.movementControl&&this.movementControl.resetInput()},onDestroy:function(){cc.systemEvent.off(cc.SystemEvent.EventType.KEY_DOWN,this.onKeyDown,this),cc.systemEvent.off(cc.SystemEvent.EventType.KEY_UP,this.onKeyUp,this)}}),cc._RF.pop()},{GameControl:"GameControl",MovementControl:"MovementControl"}],MapControl:[function(t,o,i){"use strict";function e(t){if(Array.isArray(t)){for(var o=0,i=Array(t.length);o<t.length;o++)i[o]=t[o];return i}return Array.from(t)}cc._RF.push(o,"3b22e5azxVACqr65kdFFAi+","MapControl"),cc.Class({extends:cc.Component,properties:{foodPrefabName:"Food",blockPrefabName:"Block",gridWidth:100,gridHeight:150},initMap:function(t,o){this.config=t,this.poolFactory=o;var i=this.config.STEP_DISTANCE;this.grid=[],this.blocks=[],this.moreBlocks=[],this.blockPositions=[],this.moreBlockPositions=[],this.startPos=cc.v2(-this.gridWidth/2*i+i/2,this.gridHeight/2*i-i/2);for(var e=0;e<this.gridHeight;e++)for(var s=0;s<this.gridWidth;s++){var n=cc.v2(this.startPos.x+i*s,this.startPos.y-i*e);if(this.grid.push(n),0==e||e==this.gridHeight-1||0==s||s==this.gridWidth-1){var r=this.poolFactory&&this.poolFactory.getObject(this.blockPrefabName);r&&(r.active=!0,r.parent=this.node,r.setPosition(n),this.blocks.push(r),this.blockPositions.push(n))}}cc.log("Init Map with Grid Positions: "+this.grid)},setUpMoreBlocks:function(t){this.currentLevel=t;var o=this.config,i=o.STEP_DISTANCE,e=o.LEVELS;if(e&&e.length>t){var s=e[this.currentLevel];if(s){var n=s.MORE_BLOCKS;if(n&&n.length>0)for(var r=0;r<n.length;r++){var h=this.poolFactory&&this.poolFactory.getObject(this.blockPrefabName);if(h){h.active=!0,h.parent=this.node;var a=n[r],c=cc.v2(i*a.x,i*a.y);h.setPosition(c),this.moreBlocks.push(h),this.moreBlockPositions.push(c)}}}}},start:function(){},resetMap:function(){this._currentFood&&this.poolFactory&&this.poolFactory.removeObject(this._currentFood);for(var t=0;t<this.moreBlocks.length;t++){var o=this.moreBlocks[t];o&&this.poolFactory&&this.poolFactory.removeObject(o)}this.moreBlocks=[],this.moreBlockPositions=[]},removeEatenFood:function(t){t&&(this.poolFactory&&this.poolFactory.removeObject(t),this._currentFood=null)},spawnFood:function(t){for(var o=[].concat(e(this.blockPositions)),i=0;i<this.moreBlockPositions.length;i++)o.push(this.moreBlockPositions[i]);if(t&&t.length>0)for(var s=0;s<t.length;s++)o.push(t[s]);var n=this.getRandomPosWithExceptions(o);cc.log("Spawn Food at Position: "+n);var r=this.poolFactory&&this.poolFactory.getObject(this.foodPrefabName);r.active=!0,r.parent=this.node,r.setPosition(n),this._currentFood=r},getRandomPosWithExceptions:function(t){for(var o=[],i=0;i<this.grid.length;i++){for(var e=!1,s=this.grid[i],n=0;n<t.length;n++){if(t[n].equals(s)){e=!0;break}}e||o.push(s)}return cc.log("Remaining grid after exclude exceptions: "+o),o[Math.floor(Math.random()*(o.length-1))]}}),cc._RF.pop()},{}],MovementControl:[function(t,o,i){"use strict";cc._RF.push(o,"4b2d3aC1gtHJolxUOlCq/cn","MovementControl"),cc.Class({extends:cc.Component,properties:{_horizontalAxis:0,horizontalAxis:{get:function(){return this._horizontalAxis},set:function(t){this._horizontalAxis!==t&&(this._horizontalAxis=t,this.onUpdateMovement())},visible:!1},_verticalAxis:0,verticalAxis:{get:function(){return this._verticalAxis},set:function(t){this._verticalAxis!==t&&(this._verticalAxis=t,this.onUpdateMovement())},visible:!1},player:cc.Node},initGame:function(t,o){this.poolFactory=o,t&&this.poolFactory&&this.player&&this.player.emit("INIT_PLAYER",t,this.poolFactory)},onUpdateMovement:function(){cc.log("Horizontal Axis: "+this._horizontalAxis+"; Vertical Axis: "+this._verticalAxis);var t={x:this._horizontalAxis,y:this._verticalAxis};this.player&&this.player.emit("UPDATE_DIRECTION",t)},resetInput:function(){this._verticalAxis=0,this._horizontalAxis=0},startMoving:function(){this.player&&this.player.emit("START_MOVING")},stopMoving:function(){this.player&&this.player.emit("STOP_MOVING")}}),cc._RF.pop()},{}],PlayerControl:[function(t,o,i){"use strict";cc._RF.push(o,"63dbd1H/YNEJqoVIhrCHGDA","PlayerControl"),cc.Class({extends:cc.Component,properties:{paths:{type:cc.Vec2,default:[]},headPrefabName:"Head",bodyPrefabName:"Body",initialBodyCount:2,_isMoving:!1,isMoving:{get:function(){return this._isMoving},set:function(t){this._isMoving=t},visible:!1}},onLoad:function(){this.node.on("INIT_PLAYER",this.init,this),this.node.on("START_MOVING",this.startMoving,this),this.node.on("STOP_MOVING",this.stopMoving,this),this.node.on("UPDATE_DIRECTION",this.onUpdateDirection,this)},start:function(){},reset:function(){this.head&&(this.head.x=this.head.y=0),this._direction=this._currentDirection=cc.v2(0,0),this._isMoving=!1,this.paths=[];var t=cc.v2(this.head.x,this.head.y);this.paths.push(t);for(var o=this.config,i=o.STEP_SPEED,e=o.HEAD_WIDTH,s=o.HEAD_HEIGHT,n=o.BODY_WIDTH,r=o.BODY_HEIGHT,h=0;h<this.bodies.length;h++){var a=this.bodies[h];a&&this.poolFactory&&this.poolFactory.removeObject(a)}this.bodies=[];for(var c=0;c<this.initialBodyCount;c++){var l=this.poolFactory&&this.poolFactory.getObject(this.bodyPrefabName);if(l){l.active=!0,l.parent=this.node,l.width=n+1,l.height=r+1,l.x=-(c*n+e)*this.initDirection.x,l.y=-(c*r+s)*this.initDirection.y;var u=cc.v2(l.x,l.y);this.paths.push(u),this.bodies.push(l)}}this.head.setSiblingIndex(this.bodies.length),i&&(this.stepSpeed=i)},init:function(t,o){this.config=t,this.poolFactory=o,this.bodies=[];var i=this.config,e=i.STEP_DISTANCE,s=i.STEP_SPEED,n=i.INIT_DIRECTION,r=i.HEAD_WIDTH,h=i.HEAD_HEIGHT,a=i.BODY_WIDTH,c=i.BODY_HEIGHT;if(e&&(this.stepDistance=e),s&&(this.stepSpeed=s),n&&(this.initDirection=n),this.headPrefabName&&!this.head){this.head=this.poolFactory&&this.poolFactory.getObject(this.headPrefabName),this.head.active=!0,this.head.parent=this.node,this.head.width=r+2,this.head.height=h+2,this.head.x=0,this.head.y=0;var l=cc.v2(this.head.x,this.head.y);this.paths.push(l);var u=this.head.getComponent("HeadControl");u&&u.init(this)}if(this.bodyPrefabName)for(var p=0;p<this.initialBodyCount;p++){var v=this.poolFactory&&this.poolFactory.getObject(this.bodyPrefabName);if(v){v.active=!0,v.parent=this.node,v.width=a+1,v.height=c+1,v.x=-(p*a+r)*this.initDirection.x,v.y=-(p*c+h)*this.initDirection.y;var y=cc.v2(v.x,v.y);this.paths.push(y),this.bodies.push(v)}}this.head.setSiblingIndex(this.bodies.length)},increaseSpeed:function(t){this.stepSpeed+=t},onCollideBlock:function(){cc.log("Collide Block"),this.node.emit("ON_COLLIDE_BLOCK")},onEatFood:function(t){cc.log("Eat Food"),t&&(this.node.emit("ON_EAT_FOOD",t),this.addBodyPart())},addBodyPart:function(){var t=this.bodies[this.bodies.length-1],o=cc.v2(t.x-this._currentDirection.x*this.stepDistance,t.y-this._currentDirection.y*this.stepDistance),i=this.poolFactory&&this.poolFactory.getObject(this.bodyPrefabName),e=this.config,s=e.BODY_WIDTH,n=e.BODY_HEIGHT;i&&(i.active=!0,i.parent=this.node,i.width=s+1,i.height=n+1,i.setPosition(o),this.paths.push(o),this.bodies.push(i)),this.head.setSiblingIndex(this.bodies.length)},startMoving:function(){this._currentDirection=this._direction=this.initDirection,this.lastPos=this.nextPos=cc.v2(this.head.x+this._currentDirection.x*this.stepDistance,this.head.y+this._currentDirection.y*this.stepDistance),this._isMoving=!0},stopMoving:function(){this._isMoving=!1},onFinishStep:function(t){this._currentDirection=this._direction,this.paths.unshift(t),this.paths.pop(),this.lastPos=t,this.nextPos=cc.v2(this.lastPos.x+this._currentDirection.x*this.stepDistance,this.lastPos.y+this._currentDirection.y*this.stepDistance)},onUpdateDirection:function(t){this._direction=t,cc.log(">>>>>> Player Direction: "+this._direction.x+","+this._direction.y)},update:function(t){if(this._isMoving){var o=this.nextPos.x-this.head.x,i=this.nextPos.y-this.head.y,e=cc.v2(o,i);if(e=e.normalizeSelf(),Math.abs(o)>.1||Math.abs(i)>.1){var s=e.x*this.stepSpeed*t,n=e.y*this.stepSpeed*t;this.head.x+=s,this.head.y+=n}else this.head.x=this.nextPos.x,this.head.y=this.nextPos.y,this.onFinishStep(this.nextPos);for(var r=0;r<this.bodies.length;r++){var h=this.bodies[r],a=this.paths[r];if(h&&a){var c=a.x-h.x,l=a.y-h.y,u=cc.v2(c,l);u=u.normalizeSelf(),Math.abs(c)>.01||Math.abs(l)>.01?(h.x+=u.x*this.stepSpeed*t,h.y+=u.y*this.stepSpeed*t):(h.x=a.x,h.y=a.y)}}}},onDestroy:function(){this.node.off("INIT_PLAYER",this.init,this),this.node.off("START_MOVING",this.startMoving,this),this.node.off("STOP_MOVING",this.stopMoving,this),this.node.off("UPDATE_DIRECTION",this.onUpdateDirection,this)}}),cc._RF.pop()},{}],PoolFactory:[function(t,o,i){"use strict";cc._RF.push(o,"a5326xNHARD8rdfEUkQzHNV","PoolFactory");var e=cc.Class({name:"PoolPrefab",properties:{prefabName:{default:""},objectPrefab:{type:cc.Prefab,default:null},initialCount:5}});cc.Class({extends:cc.Component,properties:{poolPrefabList:{type:e,default:[]}},onLoad:function(){this.pools=[];for(var t=0;t<this.poolPrefabList.length;t++){for(var o=this.poolPrefabList[t].prefabName,i=new cc.NodePool(o),e=0;e<this.poolPrefabList[t].initialCount;e++){var s=cc.instantiate(this.poolPrefabList[t].objectPrefab);s.name=o,s.active=!1,i.put(s)}var n={prefabName:this.poolPrefabList[t].prefabName,objectPrefab:this.poolPrefabList[t].objectPrefab,pool:i};this.pools[t]=n}},getObject:function(t){for(var o=null,i=0;i<this.pools.length;i++){var e=this.pools[i],s=e.prefabName,n=e.objectPrefab,r=e.pool;if(s==t){r.size()>0?o=r.get():((o=cc.instantiate(n)).name=s,o.active=!1);break}}return o},removeObject:function(t){for(var o=t.name,i=0;i<this.pools.length;i++){var e=this.pools[i],s=e.prefabName,n=e.pool;if(o==s){t.active=!1,n.put(t);break}}},onDestroy:function(){for(var t=0;t<this.pools.length;t++){var o=this.pools[t].pool;o&&o.clear(),this.poolPrefabList[t].objectPrefab=null}this.pools=[],this.pools=null,this.poolPrefabList=[],this.poolPrefabList=null}}),cc._RF.pop()},{}],TouchInputControl:[function(t,o,i){"use strict";cc._RF.push(o,"5f1eewR7/1LLrpI2ZQyzWo5","TouchInputControl");var e=t("MovementControl");cc.Class({extends:cc.Component,properties:{movementControl:e},onUpButtonClick:function(t){console.log("Move Up"),this.movementControl&&(this.movementControl.resetInput(),this.movementControl.verticalAxis=1)},onDownButtonClick:function(t){console.log("Move Down"),this.movementControl&&(this.movementControl.resetInput(),this.movementControl.verticalAxis=-1)},onLeftButtonClick:function(t){console.log("Move Left"),this.movementControl&&(this.movementControl.resetInput(),this.movementControl.horizontalAxis=-1)},onRightButtonClick:function(t){console.log("Move Right"),this.movementControl&&(this.movementControl.resetInput(),this.movementControl.horizontalAxis=1)}}),cc._RF.pop()},{MovementControl:"MovementControl"}],UIControl:[function(t,o,i){"use strict";cc._RF.push(o,"c5b06hrMXxCfLUVQkoEccOv","UIControl"),cc.Class({extends:cc.Component,properties:{scoreLabel:cc.Label,levelLabel:cc.Label,startButton:cc.Node,reStartButton:cc.Node,nextLevelButton:cc.Node,pauseButton:cc.Node,resumeButton:cc.Node,_currentLevelName:"Level 0",level:{get:function(){return this._currentLevelName},set:function(t){this._currentLevelName=t,this.levelLabel.string=this._currentLevelName},visible:!1},_currentScore:0,currentScore:{get:function(){return this._currentScore},visible:!1}},onLoad:function(){},start:function(){this._currentScore=0,this.scoreLabel&&(this.scoreLabel.string="Score: 0"),this.startButton&&(this.startButton.active=!0)},pauseGame:function(){this.pauseButton&&(this.pauseButton.active=!1),this.resumeButton&&(this.resumeButton.active=!0),this.node.emit("PAUSE_GAME")},resumeGame:function(){this.pauseButton&&(this.pauseButton.active=!0),this.resumeButton&&(this.resumeButton.active=!1),this.node.emit("RESUME_GAME")},onScored:function(t){this._currentScore+=t,this.scoreLabel&&(this.scoreLabel.string="Score: "+this._currentScore)},startGame:function(){this.startButton&&(this.startButton.active=!1),this.pauseButton&&(this.pauseButton.active=!0),this.resumeButton&&(this.resumeButton.active=!1),this.node.emit("START_GAME")},reStartGame:function(){this.reStartButton&&(this.reStartButton.active=!1),this.pauseButton&&(this.pauseButton.active=!0),this.node.emit("RESTART_GAME"),this._currentScore=0,this.scoreLabel&&(this.scoreLabel.string="Score: 0")},goNext:function(){this.nextLevelButton&&(this.nextLevelButton.active=!1),this.pauseButton&&(this.pauseButton.active=!0),this.node.emit("NEXT_LEVEL")},onGameWon:function(){this.nextLevelButton&&(this.nextLevelButton.active=!0),this.pauseButton&&(this.pauseButton.active=!1),this.resumeButton&&(this.resumeButton.active=!1)},onGameOver:function(){this.reStartButton&&(this.reStartButton.active=!0),this.pauseButton&&(this.pauseButton.active=!1),this.resumeButton&&(this.resumeButton.active=!1)}}),cc._RF.pop()},{}]},{},["CanvasScaleByOrientation","Config","GameControl","HeadControl","KeyboardInputControl","MapControl","MovementControl","PlayerControl","PoolFactory","TouchInputControl","UIControl"]);